<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

  <!-- My Services-->
  <bean name="recipeService" class="foo.RecipeService" />
  <bean name="bookingService" class="foo.BookingService" />

  <!-- Tools -->
  <bean name="toolIsIngredientAvail" class="org.craftercms.ai.mcp.server.McpToolReflect">
    <property name="serviceObject" ref="recipeService" />
    <property name="methodName" value="isIngredientAvailable" />
    <property name="toolName" value="isIngredientAvailable" />
    <property name="toolDescription" value="returns a response indicating if an ingredient is available or not" />
    <property name="returnType" value="string" />
    <property name="params">
      <list>
        <bean name="param1" class="org.craftercms.ai.mcp.server.McpTool.ToolParam">
          <property name="name" value="ingrdient" />
          <property name="type" value="string" />
          <property name="description" value="The name of the ingredient to check" />
          <property name="required" value="true" />
        </bean>
      </list>
    </property>
  </bean>

  <bean name="toolGetTemperature" class="org.craftercms.ai.mcp.server.McpToolRest">
    <property name="baseUrl" value="http://localhost:8080" />
    <property name="url" value="/api/foo/temperature.json" />
    <property name="toolName" value="getTemperature" />
    <property name="toolDescription" value="Returns the temperature" />
    <property name="returnType" value="string" />
    <property name="params">
      <list>
        <bean name="param1" class="org.craftercms.ai.mcp.server.McpTool.ToolParam">
          <property name="name" value="city" />
          <property name="type" value="string" />
          <property name="description" value="The name of the city to check" />
          <property name="required" value="true" />
        </bean>
      </list>
    </property>
  </bean>
















  <!-- MCP Server -->
  <bean name="crafterMcpServer" class="org.craftercms.ai.mcp.server.CrafterMcpServer">
    <property name="mcpTools">
      <list>
        <ref bean="toolIsIngredientAvail" />
        <ref bean="toolGetTemperature" />
      </list>
    </property>
  </bean>  

  <bean name="toolSpringBeanScanner" class="org.craftercms.ai.mcp.server.ToolSpringBeanScanner" init-method="scan">
      <property name="mcpServer" ref="crafterMcpServer" />
  </bean>

</beans>